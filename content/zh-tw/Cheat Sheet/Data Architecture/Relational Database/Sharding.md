---
title: "Sharding"
weight: 4
---

### **描述**

Sharding是一種將龐大的資料表根據時間、字母、數字或Hash值等設定為shard key的方法，並使用該shard key將資料表分割儲存於多個不同的伺服器中。

### **使用情境**

- 當單一資料表過大且存在明確可用的Shard key時。

### **優點**

- 分散伺服器負載：將資料分散儲存在不同資料庫中，避免某些關鍵資料表（如商品資訊）集中在特定伺服器上造成過多系統需求。
- 水平擴展：根據需求將資料分散儲存在多台伺服器上，提升資料庫操作速度，增加使用者滿意度。
- 高可用性：將資料庫分散至多個伺服器，降低單點故障的風險。

### **缺點**

- 需謹慎設計Shard key：某些情況下，某些Shard key可能會集中過多資料，例如名人的推文。透過事先分析資料分布，可幫助設計適當的Shard key。
- 增加join資料表的複雜度：在執行join操作時，若資料橫跨多個伺服器，查詢速度會變慢。
- 增加伺服器管理的複雜度：需考慮資料一致性、伺服器故障恢復等問題，建置成本也較高。